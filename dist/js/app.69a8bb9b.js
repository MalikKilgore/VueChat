(function(e){function t(t){for(var a,c,i=t[0],s=t[1],d=t[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0b42":function(e,t,n){"use strict";n("bc64")},"0c19":function(e,t,n){},"0e65":function(e,t,n){},1790:function(e,t,n){"use strict";n("0c19")},"1f42":function(e,t,n){},"286f":function(e,t,n){"use strict";n("d109")},"2e79":function(e,t,n){"use strict";n("b7f2")},"438b":function(e,t,n){"use strict";n("a9af")},"4a58":function(e,t,n){},"4c7c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=Object(a["E"])("data-v-ec555db0");Object(a["s"])("data-v-ec555db0");var o={id:"root"};Object(a["q"])();var c=r((function(e,t,n,r,c,i){var s=Object(a["v"])("SiteNav");return Object(a["p"])(),Object(a["d"])("div",o,[Object(a["g"])(s)])})),i=Object(a["E"])("data-v-3b4e01ed");Object(a["s"])("data-v-3b4e01ed");var s={id:"siteNav"},d=Object(a["f"])("Home"),l=Object(a["f"])(" Chatrooms "),u=Object(a["f"])(" Direct ");Object(a["q"])();var m=i((function(e,t,n,r,o,c){var m=Object(a["v"])("router-link"),f=Object(a["v"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",s,[Object(a["g"])(m,{to:"/"},{default:i((function(){return[d]})),_:1}),Object(a["g"])(m,{to:"/chatrooms"},{default:i((function(){return[l]})),_:1}),Object(a["g"])(m,{to:"/direct"},{default:i((function(){return[u]})),_:1}),Object(a["g"])("button",{class:"btn",onClick:t[1]||(t[1]=function(){return c.logout.apply(c,arguments)})},"Logout")]),Object(a["g"])(f,{key:e.$route.fullPath})],64)})),f=(n("45fc"),n("6c02")),p=Object(a["E"])("data-v-588ff238");Object(a["s"])("data-v-588ff238");var b={id:"home"},g=Object(a["g"])("div",null,null,-1),h={id:"homeTxt"},y=Object(a["e"])("<h1 data-v-588ff238>Welcome to VueChat</h1><p data-v-588ff238>VueChat is a chat application that runs entirely in your browser. It lets you send,edit, and delete messages in separate chatrooms. It was built primarily using Vue.js, Firebase, and SCSS. For more information on the technical aspects and challenges, there is a video below. </p><h1 data-v-588ff238>Getting Started</h1><ul data-v-588ff238><li data-v-588ff238>To use this application, you can register an account using any e-mail/username combination you want. Or you can use the provided Demo credentials below.<br data-v-588ff238><i data-v-588ff238>email: &quot;me@home.com&quot; | password: &quot;Password1234&quot;</i></li><br data-v-588ff238><li data-v-588ff238><b data-v-588ff238>You do not need to use a real e-mail on account creation.</b> For now, VueChat does not verify e-mail accounts entered, since this is just to display a working demo of the project.</li><br data-v-588ff238><li data-v-588ff238>After login, you can navigate to Chatrooms, join any chatroom you want, and start sending, editing, or deleting your messages.</li><br data-v-588ff238></ul>",4),v=Object(a["f"])("Login/Register"),j=Object(a["f"])(),O=Object(a["g"])("br",null,null,-1),C=Object(a["f"])(),w=Object(a["g"])("br",null,null,-1),x=Object(a["g"])("embed",{src:"https://www.youtube.com/embed/M-R5B_HT-lQ",width:"840",height:"473",title:"VueChat Demonstration"},null,-1),S=Object(a["g"])("div",null,null,-1);Object(a["q"])();var E=p((function(e,t,n,r,o,c){var i=Object(a["v"])("router-link"),s=Object(a["v"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",b,[g,Object(a["g"])("div",h,[y,Object(a["g"])(i,{to:"/join"},{default:p((function(){return[v]})),_:1}),j,O,C,w,x]),S]),Object(a["g"])(s,{key:e.$route.fullPath})],64)})),k={name:"Home"};n("fb77");k.render=E,k.__scopeId="data-v-588ff238";var R=k,D=Object(a["E"])("data-v-52552633");Object(a["s"])("data-v-52552633");var I={id:"chatrooms"};Object(a["q"])();var B=D((function(e,t,n,r,o,c){var i=Object(a["v"])("ChatNav");return Object(a["p"])(),Object(a["d"])("div",I,[Object(a["g"])(i)])})),L=Object(a["E"])("data-v-01826100");Object(a["s"])("data-v-01826100");var P={id:"chatNav"},T=Object(a["f"])(" #General "),q=Object(a["f"])(" #Programming "),U=Object(a["f"])(" #Networking "),M=Object(a["f"])(" #Creative "),A=Object(a["f"])(" #Bug Reports ");Object(a["q"])();var V=L((function(e,t,n,r,o,c){var i=Object(a["v"])("router-link"),s=Object(a["v"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",P,[Object(a["g"])(i,{to:{name:"Messages",params:{chatID:"general"}}},{default:L((function(){return[T]})),_:1}),Object(a["g"])(i,{to:{name:"Messages",params:{chatID:"programming"}}},{default:L((function(){return[q]})),_:1}),Object(a["g"])(i,{to:{name:"Messages",params:{chatID:"networking"}}},{default:L((function(){return[U]})),_:1}),Object(a["g"])(i,{to:{name:"Messages",params:{chatID:"creative"}}},{default:L((function(){return[M]})),_:1}),Object(a["g"])(i,{to:{name:"Messages",params:{chatID:"bugReport"}}},{default:L((function(){return[A]})),_:1})]),Object(a["g"])(s,{key:e.$route.fullPath})],64)})),_=n("59ca"),N=n.n(_),$=(n("e71f"),n("ea7b"),{apiKey:"AIzaSyCLZBoD5Pfym98sFixMTlTwxMpjykbnvBY",authDomain:"vuechat-80a67.firebaseapp.com",databaseURL:"https://vuechat-80a67.firebaseio.com",projectId:"vuechat-80a67",storageBucket:"vuechat-80a67.appspot.com",messagingSenderId:"709030886765",appId:"1:709030886765:web:c389fe949560da5c4d6e64"});N.a.initializeApp($);var z=N.a.firestore(),W=N.a.auth(),G=z.collection("users"),H=z.collection("messages").doc("Chatrooms").collection("programming"),J=z.collection("messages").doc("Chatrooms").collection("networking"),Y=z.collection("messages").doc("Chatrooms").collection("creative"),F=z.collection("messages").doc("Chatrooms").collection("general"),X=z.collection("messages").doc("Chatrooms").collection("bug-report"),K=z.collection("video-rooms"),Q={name:"ChatNav"};n("f6ce");Q.render=V,Q.__scopeId="data-v-01826100";var Z=Q,ee=Object(a["E"])("data-v-6871b883");Object(a["s"])("data-v-6871b883");var te=Object(a["g"])("div",{id:"msgList"},null,-1),ne=Object(a["g"])("br",null,null,-1),ae={id:"chat-form-container"};Object(a["q"])();var re=ee((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])(a["a"],null,[te,ne,Object(a["g"])("div",ae,[Object(a["g"])("form",{id:"chat-form",novalidate:"",onSubmit:t[3]||(t[3]=Object(a["D"])((function(){}),["prevent"]))},[Object(a["C"])(Object(a["g"])("input",{id:"message",name:"message",type:"text",placeholder:"Send a message...","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.message.content=e}),autocomplete:"off",required:""},null,512),[[a["y"],o.message.content]]),Object(a["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return c.sendMsg.apply(c,arguments)})},"Send")],32)])],64)})),oe=(n("99af"),n("4160"),n("159b"),n("b0c0"),n("96cf"),n("1da1")),ce=n("5502"),ie=Object(ce["a"])({state:{userProfile:{},currentRoute:{},currentDatabase:{},currentUser:{},displayVid:!1},mutations:{setUserProfile:function(e,t){e.userProfile=t},setCurrentRoute:function(e,t){e.currentRoute=t},setCurrentDatabase:function(e,t){e.currentDatabase=t},setCurrentUser:function(e,t){e.currentUser=t},setDisplayVid:function(e,t){e.displayVid=t}},actions:{login:function(e,t){return Object(oe["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.dispatch,n.next=3,W.signInWithEmailAndPassword(t.email,t.password);case 3:r=n.sent,o=r.user,a("fetchUserProfile",o).then(alert("Sign-in successful for ".concat(t.email)));case 6:case"end":return n.stop()}}),n)})))()},fetchUserProfile:function(e,t){return Object(oe["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,G.doc(t.uid).get();case 3:r=n.sent,a("setUserProfile",r.data()),a("setCurrentUser",t),yt.push("/chatrooms/general");case 7:case"end":return n.stop()}}),n)})))()},createUser:function(e,t){return Object(oe["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.dispatch,n.next=3,W.createUserWithEmailAndPassword(t.email,t.password);case 3:return r=n.sent,o=r.user,n.next=7,G.doc(o.uid).set({name:t.name,email:t.email,password:t.password,edit:!1,uid:o.uid});case 7:return n.next=9,G.doc(o.uid).collection("direct").doc("first").set({createdOn:new Date,sentByUID:"SYSTEM",sentByEmail:"SYSTEM",content:"Welcome to the beginning of your chat history with ".concat(t.name,"!")});case 9:a("fetchUserProfile",o).then(alert("Account created for ".concat(t.email)));case 10:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(oe["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,W.signOut().then(alert("You've successfully signed out"));case 3:n("setUserProfile",{}),yt.push("/join");case 5:case"end":return t.stop()}}),t)})))()},activeRoute:function(e,t){return Object(oe["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,t.id?a("setCurrentRoute",t.id):t.dbPln&&a("setCurrentDatabase",t.dbPln);case 2:case"end":return n.stop()}}),n)})))()},sendMsg:function(e,t){var n=this;return Object(oe["a"])(regeneratorRuntime.mark((function a(){var r,o,c,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.dispatch,r=n.state.currentUser,o=t.dbPln,c=t.dbStr,i=G.doc(r.uid).collection("direct"),a.t0=t.dbStr,a.next="programChat"===a.t0?8:"networkChat"===a.t0?11:"creativeChat"===a.t0?14:"generalChat"===a.t0?17:"bugChat"===a.t0?20:23;break;case 8:return a.next=10,H.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 10:return a.abrupt("break",28);case 11:return a.next=13,J.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 13:return a.abrupt("break",28);case 14:return a.next=16,Y.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 16:return a.abrupt("break",28);case 17:return a.next=19,F.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 19:return a.abrupt("break",28);case 20:return a.next=22,X.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 22:return a.abrupt("break",28);case 23:return a.next=25,o.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email,sentTo:c});case 25:return a.next=27,i.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email,sentTo:c});case 27:return a.abrupt("break",28);case 28:case"end":return a.stop()}}),a)})))()},dltMsg:function(e,t){var n=this;return Object(oe["a"])(regeneratorRuntime.mark((function a(){var r,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.dispatch,r=n.state.currentUser,o=n.state.currentDatabase,a.next=5,o.doc(t).get();case 5:c=a.sent,c.data().sentByUID!=r.uid?console.log("You cannot delete this message"):o.doc(t).delete();case 7:case"end":return a.stop()}}),a)})))()},editMsg:function(e,t){var n=this;return Object(oe["a"])(regeneratorRuntime.mark((function a(){var r,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.dispatch,r=n.state.currentUser,o=n.state.currentDatabase,a.next=5,o.doc(t.id).get();case 5:c=a.sent,c.data().sentByUID!=r.uid?console.log("You cannot edit this message"):o.doc(t.id).set({createdOn:c.data().createdOn,editedOn:new Date,content:t.content,sentByUID:c.data().sentByUID,sentByEmail:c.data().sentByEmail});case 7:case"end":return a.stop()}}),a)})))()},toggleVid:function(e){var t=this;return Object(oe["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.commit,r=t.state.displayVid,n.t0=r,n.next=!0===n.t0?5:!1===n.t0?7:9;break;case 5:return a("setDisplayVid",!1),n.abrupt("break",9);case 7:return a("setDisplayVid",!0),n.abrupt("break",9);case 9:case"end":return n.stop()}}),n)})))()}},modules:{}}),se={name:"Messages",data:function(){return{route:{id:this.$route.params.chatID,path:this.$route.path},message:{content:"",databaseStr:"",databasePln:null},unsubscribe:null}},methods:{fetchDatabase:function(){switch(this.route.path){case"/chatrooms/programming":this.message.databaseStr="programChat",this.message.databasePln=H,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/networking":this.message.databaseStr="networkChat",this.message.databasePln=J,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/creative":this.message.databaseStr="creativeChat",this.message.databasePln=Y,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/general":this.message.databaseStr="generalChat",this.message.databasePln=F,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/bugReport":this.message.databaseStr="bugChat",this.message.databasePln=X,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break}},renderDOM:function(){var e=ie.state.currentDatabase,t=ie.state.currentUser,n=document.getElementById("msgList");this.unsubscribe=e.orderBy("createdOn").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var a=e.doc.data().createdOn,r=document.createElement("div");r.setAttribute("sentBy-id",e.doc.id),r.classList="msgLabel",r.innerText="Sent by ".concat(e.doc.data().sentByEmail," on ").concat(a.toDate().toDateString()," at ").concat(a.toDate().toLocaleTimeString()),r.style.fontSize="15px",r.style.color="#ffffff",r.style.width="fit-content",r.style.maxWidth="50%",r.style.height="fit-content";var o=document.createElement("div");if(o.setAttribute("data-id",e.doc.id),o.classList="message",o.style.backgroundColor="#4e609a",o.style.color="#ffffff",o.style.fontWeight="bold",o.style.fontSize="20px",o.style.padding="7px",o.style.marginBottom="10px",o.style.borderRadius="5px",o.style.width="fit-content",o.style.maxWidth="50%",o.style.height="fit-content",o.style.wordWrap="break-word",o.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var c=document.createElement("button");c.innerText="X",c.classList="dlt",c.style.color="#ffffff",c.style.fontWeight="bold",c.style.fontSize="16px",c.style.padding="4px",c.style.border="0",c.style.borderRadius="5px",c.style.float="right",c.style.top="0",c.addEventListener("click",(function(e){var t=this.parentElement,n=t.getAttribute("data-id");ie.dispatch("dltMsg",n)}));var i=document.createElement("button");i.innerText="Edit",i.classList="edit",i.style.color="#ffffff",i.style.fontWeight="bold",i.style.fontSize="16px",i.style.border="0",i.style.borderRadius="5px",i.style.padding="4px",i.style.float="right",i.style.top="0";var s=e.doc.id,d=document.createElement("form"),l=document.createElement("input");l.style.fontSize="20px",l.style.borderRadius="5px",l.style.backgroundColor="#33436a",l.style.color="#ffffff",l.style.padding="5px";var u=document.createElement("input");l.setAttribute("type","text"),l.placeholder="Edit message...",u.setAttribute("type","submit"),u.setAttribute("style","display: none"),d.addEventListener("submit",(function(e){e.preventDefault(),ie.dispatch("editMsg",{id:s,content:l.value})})),d.appendChild(u),d.appendChild(l),d.style.display="none",i.addEventListener("click",(function(e){"none"===d.style.display?d.style.display="block":d.style.display="none"})),r.style.marginLeft="auto",r.innerText="".concat(a.toDate().toDateString()," at ").concat(a.toDate().toLocaleTimeString()),o.style.marginLeft="auto",o.style.backgroundColor="#33436a",i.style.backgroundColor="#4e609a",c.style.backgroundColor="#4e609a",o.appendChild(c),o.appendChild(i),o.appendChild(d)}document.getElementById("msgList").appendChild(o),o.insertAdjacentElement("beforebegin",r),o.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}if("modified"===e.type){var m=n.querySelector("[data-id="+e.doc.id+"]");if(m.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var f=document.createElement("button");f.innerText="X",f.classList="dlt",f.style.backgroundColor="#4e609a",f.style.color="#ffffff",f.style.fontWeight="bold",f.style.fontSize="16px",f.style.padding="4px",f.style.border="0",f.style.borderRadius="5px",f.style.float="right",f.style.top="0",f.addEventListener("click",(function(e){var t=this.parentElement,n=t.getAttribute("data-id");ie.dispatch("dltMsg",n)}));var p=document.createElement("button");p.innerText="Edit",p.classList="edit",p.style.backgroundColor="#4e609a",p.style.color="#ffffff",p.style.fontWeight="bold",p.style.fontSize="16px",p.style.border="0",p.style.borderRadius="5px",p.style.padding="4px",p.style.float="right",p.style.top="0";var b=m.getAttribute("data-id"),g=document.createElement("form"),h=document.createElement("input"),y=document.createElement("input");h.setAttribute("type","text"),h.placeholder="Edit message...",h.style.fontSize="20px",h.style.borderRadius="5px",h.style.backgroundColor="#33436a",h.style.color="#ffffff",h.style.padding="5px",y.setAttribute("type","submit"),y.setAttribute("style","display: none"),g.addEventListener("submit",(function(e){e.preventDefault(),ie.dispatch("editMsg",{id:b,content:h.value})})),g.appendChild(y),g.appendChild(h),g.style.display="none",p.addEventListener("click",(function(e){"none"===g.style.display?g.style.display="block":g.style.display="none"})),m.appendChild(f),m.appendChild(p),m.appendChild(g)}}if("removed"===e.type){var v=n.querySelector("[sentBy-id="+e.doc.id+"]"),j=n.querySelector("[data-id="+e.doc.id+"]");n.removeChild(v),n.removeChild(j)}}))}))},sendMsg:function(){document.getElementById("chat-form").reset(),this.$store.dispatch("sendMsg",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln})}},mounted:function(){this.$store.dispatch("activeRoute",{id:this.route.id,path:this.route.path}).then(this.fetchDatabase()),this.renderDOM()},beforeUnmount:function(){var e=document.getElementById("msgList");e.innerHTML="",e.textContent="";while(e.lastElementChild)e.removeChild(e.lastElementChild);console.log("ERASING EVERYTHING"),this.unsubscribe()}};n("2e79");se.render=re,se.__scopeId="data-v-6871b883";var de=se,le={name:"Chatrooms",components:{ChatNav:Z,Messages:de}};n("438b");le.render=B,le.__scopeId="data-v-52552633";var ue=le,me=Object(a["E"])("data-v-be576d72");Object(a["s"])("data-v-be576d72");var fe={id:"direct"};Object(a["q"])();var pe=me((function(e,t,n,r,o,c){var i=Object(a["v"])("DirectNav");return Object(a["p"])(),Object(a["d"])("div",fe,[Object(a["g"])(i)])})),be=Object(a["E"])("data-v-418d3cc8");Object(a["s"])("data-v-418d3cc8");var ge=Object(a["g"])("div",{id:"directNav"},[Object(a["g"])("h1",null,"Users:")],-1);Object(a["q"])();var he=be((function(e,t,n,r,o,c){var i=Object(a["v"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[ge,Object(a["g"])(i,{key:e.$route.fullPath})],64)})),ye={name:"DirectNav",data:function(){return{route:{id:this.$route.params.directID,path:this.$route.path},user:{content:"",databaseStr:"",databasePln:null},unsubscribe:null}},methods:{renderList:function(){var e=G,t=ie.state.currentUser,n=document.getElementById("directNav");this.unsubscribe=e.orderBy("name").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var a=document.createElement("a");if(a.setAttribute("user-id",e.doc.id),a.setAttribute("href","/direct/".concat(e.doc.id)),a.addEventListener("click",(function(t){t.preventDefault(),yt.push("/direct/".concat(e.doc.id))})),a.style.fontSize="40px",a.style.fontWeight="bold",a.style.maxHeight="50px",a.style.color="#18243a",a.style.backgroundColor="#92a2e2",a.style.borderRadius="5px",a.style.verticalAlign="middle",a.style.textDecoration="none",a.addEventListener("mouseover",(function(e){a.style.color="#c9ccf0"})),a.addEventListener("mouseleave",(function(e){a.style.color="#18243a"})),a.innerText=e.doc.data().name,e.doc.data().uid==t.uid)return;e.doc.data().uid!=t.uid&&n.appendChild(a)}if("modified"===e.type){var r=n.querySelector("[user-id="+e.doc.id+"]");r.innerText=e.doc.data().name}if("removed"===e.type){var o=n.querySelector("[user-id="+e.doc.id+"]");n.removeChild(o)}}))}))}},mounted:function(){this.renderList()},beforeUnmount:function(){var e=document.getElementById("directNav");e.innerHTML="",e.textContent="";while(e.lastElementChild)e.removeChild(e.lastElementChild);this.unsubscribe()}};n("a9aa");ye.render=he,ye.__scopeId="data-v-418d3cc8";var ve=ye,je=Object(a["E"])("data-v-2e7ada02");Object(a["s"])("data-v-2e7ada02");var Oe={id:"dmList"},Ce=Object(a["g"])("br",null,null,-1),we={id:"chat-form-container"};Object(a["q"])();var xe=je((function(e,t,n,r,o,c){var i=Object(a["v"])("Video");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",Oe,[Object(a["C"])(Object(a["g"])(i,null,null,512),[[a["z"],c.displayVid]])]),Ce,Object(a["g"])("div",we,[Object(a["g"])("form",{id:"chat-form",novalidate:"",onSubmit:t[4]||(t[4]=Object(a["D"])((function(){}),["prevent"]))},[Object(a["C"])(Object(a["g"])("input",{id:"message",name:"message",type:"text",placeholder:"Send a private message...","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.message.content=e}),autocomplete:"off",required:""},null,512),[[a["y"],o.message.content]]),Object(a["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return c.toggleVid.apply(c,arguments)})},"Display"),Object(a["g"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return c.sendMsg.apply(c,arguments)})},"Send")],32)])],64)})),Se=Object(a["E"])("data-v-565143ba");Object(a["s"])("data-v-565143ba");var Ee={class:"videoRoot"},ke=Object(a["g"])("div",null,[Object(a["g"])("span",{id:"currentRoom"})],-1),Re=Object(a["g"])("div",{class:"videoCall"},[Object(a["g"])("video",{id:"localVideo",width:"450",height:"300",playsinline:"",autoplay:"",muted:""}),Object(a["g"])("video",{id:"remoteVideo",width:"450",height:"300",playsinline:"",autoplay:""})],-1),De=Object(a["g"])("br",null,null,-1),Ie={class:"box"},Be=Object(a["g"])("br",null,null,-1),Le={id:"room-dialog"},Pe=Object(a["g"])("h2",null,"Enter ID for room to join:",-1),Te={class:"text-field"},qe=Object(a["g"])("input",{type:"text",id:"room-id",placeholder:"Enter room ID here..."},null,-1);Object(a["q"])();var Ue=Se((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",Ee,[ke,Re,De,Object(a["g"])("div",Ie,[Object(a["g"])("button",{id:"cameraBtn",onClick:t[1]||(t[1]=function(){return c.openUserMedia.apply(c,arguments)})},"Start"),Object(a["g"])("button",{id:"createBtn",onClick:t[2]||(t[2]=function(){return c.createRoom.apply(c,arguments)})},"Call"),Object(a["g"])("button",{id:"hangupBtn",onClick:t[3]||(t[3]=function(){return e.hangup.apply(e,arguments)})},"Hang Up")]),Be,Object(a["g"])("div",Le,[Pe,Object(a["g"])("div",Te,[qe,Object(a["g"])("button",{id:"joinBtn",onClick:t[4]||(t[4]=function(){return c.joinRoom.apply(c,arguments)})},"Join Room")])])])})),Me=(n("bf19"),{name:"Video",data:function(){return{localVideo:null,remoteVideo:null,peerConnection:null,localStream:null,remoteStream:null,roomId:null,configuration:{iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun.services.mozilla.com"]}]},iceCandidatePoolSize:10}},methods:{createRoom:function(){var e=this;return Object(oe["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.querySelector("#createBtn").disabled=!0,document.querySelector("#joinBtn").disabled=!0,t.next=4,K.doc();case 4:return n=t.sent,console.log("Create PeerConnection with configuration: ",e.configuration),e.peerConnection=new RTCPeerConnection(e.configuration),e.registerPeerConnectionListeners(),e.localStream.getTracks().forEach((function(t){e.peerConnection.addTrack(t,e.localStream)})),a=n.collection("callerCandidates"),e.peerConnection.addEventListener("icecandidate",(function(e){e.candidate?(console.log("Got candidate: ",e.candidate),a.add(e.candidate.toJSON())):console.log("Got final candidate!")})),t.next=13,e.peerConnection.createOffer();case 13:return r=t.sent,t.next=16,e.peerConnection.setLocalDescription(r);case 16:return console.log("Created offer:",r),o={offer:{type:r.type,sdp:r.sdp}},t.next=20,n.set(o);case 20:e.roomId=n.id,console.log("New room created with SDP offer. Room ID: ".concat(n.id)),document.querySelector("#currentRoom").innerText="Current room is ".concat(n.id," - You are the caller!"),e.peerConnection.addEventListener("track",(function(t){console.log("Got remote track:",t.streams[0]),t.streams[0].getTracks().forEach((function(t){console.log("Add a track to the remoteStream:",t),e.remoteStream.addTrack(t)}))})),n.onSnapshot(function(){var t=Object(oe["a"])(regeneratorRuntime.mark((function t(n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0://!peerConnection.currentRemoteDescription && data && data.answer
if(a=n.data(),e.peerConnection&&e.peerConnection.remoteDescription){t.next=6;break}return console.log("Got remote description: ",a.answer),r=new RTCSessionDescription(a.answer),t.next=6,e.peerConnection.setRemoteDescription(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.collection("receiverCandidates").onSnapshot((function(t){t.docChanges().forEach(function(){var t=Object(oe["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("added"!==n.type){t.next=5;break}return a=n.doc.data(),console.log("Got new remote ICE candidate: ".concat(JSON.stringify(a))),t.next=5,e.peerConnection.addIceCandidate(new RTCIceCandidate(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 26:case"end":return t.stop()}}),t)})))()},joinRoom:function(){var e=this;return Object(oe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.querySelector("#createBtn").disabled=!0,document.querySelector("#joinBtn").disabled=!0,e.roomId=document.querySelector("#room-id").value,console.log("Join room: ",e.roomId),document.querySelector("#currentRoom").innerText="Current room is ".concat(e.roomId," - You are the receiver!"),t.next=7,e.joinRoomById(e.roomId);case 7:case 8:case"end":return t.stop()}}),t)})))()},joinRoomById:function(e){var t=this;return Object(oe["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=K.doc("".concat(t.roomId)),e.next=3,n.get();case 3:if(a=e.sent,console.log("Got room:",a.exists),!a.exists){e.next=27;break}return console.log("Create PeerConnection with configuration: ",t.configuration),t.peerConnection=new RTCPeerConnection(t.configuration),t.registerPeerConnectionListeners(),t.localStream.getTracks().forEach((function(e){t.peerConnection.addTrack(e,t.localStream)})),r=n.collection("receiverCandidates"),t.peerConnection.addEventListener("icecandidate",(function(e){e.candidate?(console.log("Got candidate: ",e.candidate),r.add(e.candidate.toJSON())):console.log("Got final candidate!")})),t.peerConnection.addEventListener("track",(function(e){console.log("Got remote track:",e.streams[0]),e.streams[0].getTracks().forEach((function(e){console.log("Add a track to the remoteStream:",e),t.remoteStream.addTrack(e)}))})),o=a.data().offer,console.log("Got offer:",o),e.next=17,t.peerConnection.setRemoteDescription(new RTCSessionDescription(o));case 17:return e.next=19,t.peerConnection.createAnswer();case 19:return c=e.sent,console.log("Created answer:",c),e.next=23,t.peerConnection.setLocalDescription(c);case 23:return i={answer:{type:c.type,sdp:c.sdp}},e.next=26,n.update(i);case 26:n.collection("callerCandidates").onSnapshot((function(e){e.docChanges().forEach(function(){var e=Object(oe["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("added"!==n.type){e.next=5;break}return a=n.doc.data(),console.log("Got new remote ICE candidate: ".concat(JSON.stringify(a))),e.next=5,t.peerConnection.addIceCandidate(new RTCIceCandidate(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 27:case"end":return e.stop()}}),e)})))()},openUserMedia:function(e){var t=this;return Object(oe["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:n=e.sent,document.querySelector("#localVideo").srcObject=n,t.localStream=n,t.remoteStream=new MediaStream,document.querySelector("#remoteVideo").srcObject=t.remoteStream,console.log("Stream:",document.querySelector("#localVideo").srcObject),document.querySelector("#cameraBtn").disabled=!0,document.querySelector("#joinBtn").disabled=!1,document.querySelector("#createBtn").disabled=!1,document.querySelector("#hangupBtn").disabled=!1;case 12:case"end":return e.stop()}}),e)})))()},hangUp:function(e){var t=this;return Object(oe["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=document.querySelector("#localVideo").srcObject.getTracks(),n.forEach((function(e){e.stop()})),t.remoteStream&&t.remoteStream.getTracks().forEach((function(e){return e.stop()})),t.peerConnection&&t.peerConnection.close(),document.querySelector("#localVideo").srcObject=null,document.querySelector("#remoteVideo").srcObject=null,document.querySelector("#cameraBtn").disabled=!1,document.querySelector("#joinBtn").disabled=!0,document.querySelector("#createBtn").disabled=!0,document.querySelector("#hangupBtn").disabled=!0,document.querySelector("#currentRoom").innerText="",!t.roomId){e.next=23;break}return a=K.doc("".concat(t.roomId)),e.next=15,a.collection("receiverCandidates").get();case 15:return r=e.sent,r.forEach(function(){var e=Object(oe["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.ref.delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=19,a.collection("callerCandidates").get();case 19:return o=e.sent,o.forEach(function(){var e=Object(oe["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.ref.delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=23,a.delete();case 23:document.location.reload(!0);case 24:case"end":return e.stop()}}),e)})))()},registerPeerConnectionListeners:function(){var e=this;this.peerConnection.addEventListener("icegatheringstatechange",(function(){console.log("ICE gathering state changed: ".concat(e.peerConnection.iceGatheringState))})),this.peerConnection.addEventListener("connectionstatechange",(function(){console.log("Connection state change: ".concat(e.peerConnection.connectionState))})),this.peerConnection.addEventListener("signalingstatechange",(function(){console.log("Signaling state change: ".concat(e.peerConnection.signalingState))})),this.peerConnection.addEventListener("iceconnectionstatechange ",(function(){console.log("ICE connection state change: ".concat(e.peerConnection.iceConnectionState))}))}},computed:{}});n("cdb9");Me.render=Ue,Me.__scopeId="data-v-565143ba";var Ae=Me,Ve={name:"DirectMessages",data:function(){return{route:{id:this.$route.params.directID,path:this.$route.path},message:{content:"",databaseStr:"",databasePln:null},unsubscribe:null}},components:{Video:Ae},methods:{renderDOM:function(){var e=ie.state.currentDatabase,t=ie.state.currentUser,n=document.getElementById("dmList");this.unsubscribe=e.orderBy("createdOn").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var a=e.doc.data().createdOn,r=document.createElement("div");r.setAttribute("sentBy-id",e.doc.id),r.classList="msgLabel",r.innerText="Sent by ".concat(e.doc.data().sentByEmail," on ").concat(a.toDate().toDateString()," at ").concat(a.toDate().toLocaleTimeString()),r.style.fontSize="15px",r.style.color="#ffffff",r.style.width="fit-content",r.style.maxWidth="50%",r.style.height="fit-content";var o=document.createElement("div");if(o.setAttribute("data-id",e.doc.id),o.classList="message",o.style.backgroundColor="#4e609a",o.style.color="#ffffff",o.style.fontWeight="bold",o.style.fontSize="20px",o.style.padding="7px",o.style.marginBottom="10px",o.style.borderRadius="5px",o.style.width="fit-content",o.style.maxWidth="50%",o.style.height="fit-content",o.style.wordWrap="break-word",o.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var c=document.createElement("button");c.innerText="X",c.classList="dlt",c.style.color="#ffffff",c.style.fontWeight="bold",c.style.fontSize="16px",c.style.padding="4px",c.style.border="0",c.style.borderRadius="5px",c.style.float="right",c.style.top="0",c.addEventListener("click",(function(e){var t=this.parentElement,n=t.getAttribute("data-id");ie.dispatch("dltMsg",n)}));var i=document.createElement("button");i.innerText="Edit",i.classList="edit",i.style.color="#ffffff",i.style.fontWeight="bold",i.style.fontSize="16px",i.style.border="0",i.style.borderRadius="5px",i.style.padding="4px",i.style.float="right",i.style.top="0";var s=e.doc.id,d=document.createElement("form"),l=document.createElement("input");l.style.fontSize="20px",l.style.borderRadius="5px",l.style.backgroundColor="#33436a",l.style.color="#ffffff",l.style.padding="5px";var u=document.createElement("input");l.setAttribute("type","text"),l.placeholder="Edit message...",u.setAttribute("type","submit"),u.setAttribute("style","display: none"),d.addEventListener("submit",(function(e){e.preventDefault(),ie.dispatch("editMsg",{id:s,content:l.value})})),d.appendChild(u),d.appendChild(l),d.style.display="none",i.addEventListener("click",(function(e){"none"===d.style.display?d.style.display="block":d.style.display="none"})),r.style.marginLeft="auto",r.innerText="".concat(a.toDate().toDateString()," at ").concat(a.toDate().toLocaleTimeString()),o.style.marginLeft="auto",o.style.backgroundColor="#33436a",i.style.backgroundColor="#4e609a",c.style.backgroundColor="#4e609a",o.appendChild(c),o.appendChild(i),o.appendChild(d)}if(e.doc.data().sentTo!=t.uid&&e.doc.data().sentByEmail!=t.email)return;document.getElementById("dmList").appendChild(o),o.insertAdjacentElement("beforebegin",r),o.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}if("modified"===e.type){var m=n.querySelector("[data-id="+e.doc.id+"]");if(m.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var f=document.createElement("button");f.innerText="X",f.classList="dlt",f.style.backgroundColor="#4e609a",f.style.color="#ffffff",f.style.fontWeight="bold",f.style.fontSize="16px",f.style.padding="4px",f.style.border="0",f.style.borderRadius="5px",f.style.float="right",f.style.top="0",f.addEventListener("click",(function(e){var t=this.parentElement,n=t.getAttribute("data-id");ie.dispatch("dltMsg",n)}));var p=document.createElement("button");p.innerText="Edit",p.classList="edit",p.style.backgroundColor="#4e609a",p.style.color="#ffffff",p.style.fontWeight="bold",p.style.fontSize="16px",p.style.border="0",p.style.borderRadius="5px",p.style.padding="4px",p.style.float="right",p.style.top="0";var b=m.getAttribute("data-id"),g=document.createElement("form"),h=document.createElement("input"),y=document.createElement("input");h.setAttribute("type","text"),h.placeholder="Edit message...",h.style.fontSize="20px",h.style.borderRadius="5px",h.style.backgroundColor="#33436a",h.style.color="#ffffff",h.style.padding="5px",y.setAttribute("type","submit"),y.setAttribute("style","display: none"),g.addEventListener("submit",(function(e){e.preventDefault(),ie.dispatch("editMsg",{id:b,content:h.value})})),g.appendChild(y),g.appendChild(h),g.style.display="none",p.addEventListener("click",(function(e){"none"===g.style.display?g.style.display="block":g.style.display="none"})),m.appendChild(f),m.appendChild(p),m.appendChild(g)}}if("removed"===e.type){var v=n.querySelector("[sentBy-id="+e.doc.id+"]"),j=n.querySelector("[data-id="+e.doc.id+"]");n.removeChild(v),n.removeChild(j)}}))}))},fetchDatabase:function(){var e=this.route.path.substr(8),t=G.doc(e).collection("direct");this.message.databaseStr="".concat(e),this.message.databasePln=t,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln})},sendMsg:function(){document.getElementById("chat-form").reset();var e=this.route.path.substr(8),t=G.doc(e).collection("direct");this.message.databaseStr="".concat(e),this.message.databasePln=t,this.$store.dispatch("sendMsg",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln})},toggleVid:function(){this.$store.dispatch("toggleVid")}},computed:{displayVid:function(){return ie.state.displayVid}},mounted:function(){this.$store.dispatch("activeRoute",{id:this.route.id,path:this.route.path}).then(this.fetchDatabase()),this.renderDOM()},beforeUnmount:function(){var e=document.getElementById("dmList");e.innerHTML="",e.textContent="";while(e.lastElementChild)e.removeChild(e.lastElementChild);this.unsubscribe()}};n("58bb");Ve.render=xe,Ve.__scopeId="data-v-2e7ada02";var _e=Ve,Ne={name:"Direct",components:{DirectNav:ve,DirectMessages:_e}};n("286f");Ne.render=pe,Ne.__scopeId="data-v-be576d72";var $e=Ne,ze={class:"join-container"},We={class:"join-header"},Ge=Object(a["g"])("h1",null,"VueChat",-1),He=Object(a["f"])("Login"),Je=Object(a["f"])(" | "),Ye=Object(a["f"])("Register"),Fe={class:"join-main"};function Xe(e,t,n,r,o,c){var i=Object(a["v"])("router-link"),s=Object(a["v"])("router-view");return Object(a["p"])(),Object(a["d"])("div",ze,[Object(a["g"])("header",We,[Ge,Object(a["g"])(i,{to:"/join"},{default:Object(a["B"])((function(){return[He]})),_:1}),Je,Object(a["g"])(i,{to:"/join/register"},{default:Object(a["B"])((function(){return[Ye]})),_:1})]),Object(a["g"])("main",Fe,[Object(a["g"])(s)])])}var Ke=Object(a["E"])("data-v-6891089e");Object(a["s"])("data-v-6891089e");var Qe={class:"login"},Ze={class:"form-control"},et=Object(a["g"])("label",{for:"email"},"E-mail",-1),tt=Object(a["g"])("label",{for:"password"},"Password",-1);Object(a["q"])();var nt=Ke((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",Qe,[Object(a["g"])("form",{onSubmit:t[4]||(t[4]=Object(a["D"])((function(){}),["prevent"]))},[Object(a["g"])("div",Ze,[et,Object(a["C"])(Object(a["g"])("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.email=e}),type:"text",name:"email",placeholder:"Enter your e-mail address...",required:""},null,512),[[a["y"],o.email]]),tt,Object(a["C"])(Object(a["g"])("input",{id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.password=e}),type:"text",name:"password",placeholder:"Enter your password...",required:""},null,512),[[a["y"],o.password]]),Object(a["g"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return c.login.apply(c,arguments)})}," Login ")])],32)])})),at={data:function(){return{email:"",password:""}},methods:{login:function(){this.$store.dispatch("login",{email:this.email,password:this.password})}}};n("6c46");at.render=nt,at.__scopeId="data-v-6891089e";var rt=at,ot=Object(a["E"])("data-v-1cf6db4a");Object(a["s"])("data-v-1cf6db4a");var ct={class:"register"},it={class:"form-control"},st=Object(a["g"])("label",{for:"userName"},"Username",-1),dt=Object(a["g"])("label",{for:"email"},"E-mail",-1),lt=Object(a["g"])("label",{for:"password"},"Password",-1);Object(a["q"])();var ut=ot((function(e,t,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",ct,[Object(a["g"])("form",{onSubmit:t[5]||(t[5]=Object(a["D"])((function(){}),["prevent"]))},[Object(a["g"])("div",it,[st,Object(a["C"])(Object(a["g"])("input",{id:"userName","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.userName=e}),type:"text",name:"userName",placeholder:"Enter your username...",required:""},null,512),[[a["y"],o.userName]]),dt,Object(a["C"])(Object(a["g"])("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.email=e}),type:"text",name:"email",placeholder:"Enter your e-mail address...",required:""},null,512),[[a["y"],o.email]]),lt,Object(a["C"])(Object(a["g"])("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.password=e}),type:"text",name:"password",placeholder:"Enter your password...",required:""},null,512),[[a["y"],o.password]]),Object(a["g"])("button",{class:"btn",onClick:t[4]||(t[4]=function(){return c.createUser.apply(c,arguments)})}," Create account ")])],32)])})),mt={data:function(){return{userName:"",email:"",password:""}},methods:{createUser:function(){this.$store.dispatch("createUser",{email:this.email,password:this.password,name:this.userName,title:this.title})}}};n("0b42");mt.render=ut,mt.__scopeId="data-v-1cf6db4a";var ft=mt,pt={name:"Join",components:{Login:rt,Register:ft}};n("1790");pt.render=Xe;var bt=pt,gt=[{path:"/",name:"Home",component:R},{path:"/direct",name:"Direct",component:$e,meta:{requiresAuth:!0},children:[{path:"/direct/:directID",name:"directMessages",component:_e}]},{path:"/chatrooms",name:"Chatrooms",component:ue,meta:{requiresAuth:!0},children:[{path:"/chatrooms/:chatID",name:"Messages",component:de}]},{path:"/join",name:"Join",component:bt,children:[{path:"",name:"Login",component:rt},{path:"/join/register",name:"Register",component:ft}]}],ht=Object(f["a"])({history:Object(f["b"])(),base:"/",routes:gt});ht.beforeEach((function(e,t,n){var a=e.matched.some((function(e){return e.meta.requiresAuth}));a&&!W.currentUser?(console.log("User not signed in, redirecting to Login page."),n("/join")):n()}));var yt=ht,vt={name:"SiteNav",methods:{logout:function(){this.$store.dispatch("logout")}}};n("b963");vt.render=m,vt.__scopeId="data-v-3b4e01ed";var jt=vt,Ot={name:"App",components:{SiteNav:jt}};n("afe4");Ot.render=c,Ot.__scopeId="data-v-ec555db0";var Ct,wt=Ot;n("a347");W.onAuthStateChanged((function(e){if(!Ct)return Ct=Object(a["c"])(wt).use(ie).use(yt).mount("#app");e&&ie.dispatch("fetchUserProfile",e)}))},"58bb":function(e,t,n){"use strict";n("7577")},"5b70":function(e,t,n){},"6c46":function(e,t,n){"use strict";n("0e65")},7577:function(e,t,n){},a347:function(e,t,n){},a9aa:function(e,t,n){"use strict";n("b82e")},a9af:function(e,t,n){},afe4:function(e,t,n){"use strict";n("1f42")},b7f2:function(e,t,n){},b82e:function(e,t,n){},b963:function(e,t,n){"use strict";n("c423")},bc64:function(e,t,n){},c423:function(e,t,n){},cdb9:function(e,t,n){"use strict";n("5b70")},d109:function(e,t,n){},f6ce:function(e,t,n){"use strict";n("4c7c")},fb77:function(e,t,n){"use strict";n("4a58")}});
//# sourceMappingURL=app.69a8bb9b.js.map