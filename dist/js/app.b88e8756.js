(function(e){function t(t){for(var n,o,i=t[0],c=t[1],d=t[2],u=0,b=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(b.length)b.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0b42":function(e,t,a){"use strict";a("bc64")},"0c19":function(e,t,a){},"0e65":function(e,t,a){},1790:function(e,t,a){"use strict";a("0c19")},"1aa6":function(e,t,a){"use strict";a("8eec")},"1f42":function(e,t,a){},"286f":function(e,t,a){"use strict";a("d109")},"2e79":function(e,t,a){"use strict";a("b7f2")},"438b":function(e,t,a){"use strict";a("a9af")},"4a58":function(e,t,a){},"4c7c":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r=Object(n["D"])("data-v-ec555db0");Object(n["s"])("data-v-ec555db0");var s={id:"root"};Object(n["q"])();var o=r((function(e,t,a,r,o,i){var c=Object(n["v"])("SiteNav");return Object(n["p"])(),Object(n["d"])("div",s,[Object(n["g"])(c)])})),i=Object(n["D"])("data-v-3b4e01ed");Object(n["s"])("data-v-3b4e01ed");var c={id:"siteNav"},d=Object(n["f"])("Home"),l=Object(n["f"])(" Chatrooms "),u=Object(n["f"])(" Direct ");Object(n["q"])();var b=i((function(e,t,a,r,s,o){var b=Object(n["v"])("router-link"),f=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",c,[Object(n["g"])(b,{to:"/"},{default:i((function(){return[d]})),_:1}),Object(n["g"])(b,{to:"/chatrooms"},{default:i((function(){return[l]})),_:1}),Object(n["g"])(b,{to:"/direct"},{default:i((function(){return[u]})),_:1}),Object(n["g"])("button",{class:"btn",onClick:t[1]||(t[1]=function(){return o.logout.apply(o,arguments)})},"Logout")]),Object(n["g"])(f,{key:e.$route.fullPath})],64)})),f=(a("45fc"),a("6c02")),m=Object(n["D"])("data-v-588ff238");Object(n["s"])("data-v-588ff238");var p={id:"home"},h=Object(n["g"])("div",null,null,-1),g={id:"homeTxt"},y=Object(n["e"])("<h1 data-v-588ff238>Welcome to VueChat</h1><p data-v-588ff238>VueChat is a chat application that runs entirely in your browser. It lets you send,edit, and delete messages in separate chatrooms. It was built primarily using Vue.js, Firebase, and SCSS. For more information on the technical aspects and challenges, there is a video below. </p><h1 data-v-588ff238>Getting Started</h1><ul data-v-588ff238><li data-v-588ff238>To use this application, you can register an account using any e-mail/username combination you want. Or you can use the provided Demo credentials below.<br data-v-588ff238><i data-v-588ff238>email: &quot;me@home.com&quot; | password: &quot;Password1234&quot;</i></li><br data-v-588ff238><li data-v-588ff238><b data-v-588ff238>You do not need to use a real e-mail on account creation.</b> For now, VueChat does not verify e-mail accounts entered, since this is just to display a working demo of the project.</li><br data-v-588ff238><li data-v-588ff238>After login, you can navigate to Chatrooms, join any chatroom you want, and start sending, editing, or deleting your messages.</li><br data-v-588ff238></ul>",4),v=Object(n["f"])("Login/Register"),O=Object(n["f"])(),j=Object(n["g"])("br",null,null,-1),x=Object(n["f"])(),w=Object(n["g"])("br",null,null,-1),C=Object(n["g"])("embed",{src:"https://www.youtube.com/embed/M-R5B_HT-lQ",width:"840",height:"473",title:"VueChat Demonstration"},null,-1),E=Object(n["g"])("div",null,null,-1);Object(n["q"])();var S=m((function(e,t,a,r,s,o){var i=Object(n["v"])("router-link"),c=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",p,[h,Object(n["g"])("div",g,[y,Object(n["g"])(i,{to:"/join"},{default:m((function(){return[v]})),_:1}),O,j,x,w,C]),E]),Object(n["g"])(c,{key:e.$route.fullPath})],64)})),D={name:"Home"};a("fb77");D.render=S,D.__scopeId="data-v-588ff238";var k=D,B=Object(n["D"])("data-v-52552633");Object(n["s"])("data-v-52552633");var R={id:"chatrooms"};Object(n["q"])();var I=B((function(e,t,a,r,s,o){var i=Object(n["v"])("ChatNav");return Object(n["p"])(),Object(n["d"])("div",R,[Object(n["g"])(i)])})),L=Object(n["D"])("data-v-01826100");Object(n["s"])("data-v-01826100");var P={id:"chatNav"},U=Object(n["f"])(" #General "),M=Object(n["f"])(" #Programming "),A=Object(n["f"])(" #Networking "),_=Object(n["f"])(" #Creative "),T=Object(n["f"])(" #Bug Reports ");Object(n["q"])();var q=L((function(e,t,a,r,s,o){var i=Object(n["v"])("router-link"),c=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",P,[Object(n["g"])(i,{to:{name:"Messages",params:{chatID:"general"}}},{default:L((function(){return[U]})),_:1}),Object(n["g"])(i,{to:{name:"Messages",params:{chatID:"programming"}}},{default:L((function(){return[M]})),_:1}),Object(n["g"])(i,{to:{name:"Messages",params:{chatID:"networking"}}},{default:L((function(){return[A]})),_:1}),Object(n["g"])(i,{to:{name:"Messages",params:{chatID:"creative"}}},{default:L((function(){return[_]})),_:1}),Object(n["g"])(i,{to:{name:"Messages",params:{chatID:"bugReport"}}},{default:L((function(){return[T]})),_:1})]),Object(n["g"])(c,{key:e.$route.fullPath})],64)})),N=a("59ca"),$=a.n(N),W=(a("e71f"),a("ea7b"),{apiKey:"AIzaSyCLZBoD5Pfym98sFixMTlTwxMpjykbnvBY",authDomain:"vuechat-80a67.firebaseapp.com",databaseURL:"https://vuechat-80a67.firebaseio.com",projectId:"vuechat-80a67",storageBucket:"vuechat-80a67.appspot.com",messagingSenderId:"709030886765",appId:"1:709030886765:web:c389fe949560da5c4d6e64"});$.a.initializeApp(W);var z=$.a.firestore(),V=$.a.auth(),H=z.collection("users"),Y=z.collection("messages").doc("Chatrooms").collection("programming"),G=z.collection("messages").doc("Chatrooms").collection("networking"),F=z.collection("messages").doc("Chatrooms").collection("creative"),J=z.collection("messages").doc("Chatrooms").collection("general"),X=z.collection("messages").doc("Chatrooms").collection("bug-report"),K=(z.collection("video-rooms"),{name:"ChatNav"});a("f6ce");K.render=q,K.__scopeId="data-v-01826100";var Q=K,Z=Object(n["D"])("data-v-6871b883");Object(n["s"])("data-v-6871b883");var ee=Object(n["g"])("div",{id:"msgList"},null,-1),te=Object(n["g"])("br",null,null,-1),ae={id:"chat-form-container"};Object(n["q"])();var ne=Z((function(e,t,a,r,s,o){return Object(n["p"])(),Object(n["d"])(n["a"],null,[ee,te,Object(n["g"])("div",ae,[Object(n["g"])("form",{id:"chat-form",novalidate:"",onSubmit:t[3]||(t[3]=Object(n["C"])((function(){}),["prevent"]))},[Object(n["B"])(Object(n["g"])("input",{id:"message",name:"message",type:"text",placeholder:"Send a message...","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.message.content=e}),autocomplete:"off",required:""},null,512),[[n["y"],s.message.content]]),Object(n["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return o.sendMsg.apply(o,arguments)})},"Send")],32)])],64)})),re=(a("99af"),a("4160"),a("159b"),a("b0c0"),a("96cf"),a("1da1")),se=a("5502"),oe=Object(se["a"])({state:{userProfile:{},currentRoute:{},currentDatabase:{},currentUser:{}},mutations:{setUserProfile:function(e,t){e.userProfile=t},setCurrentRoute:function(e,t){e.currentRoute=t},setCurrentDatabase:function(e,t){e.currentDatabase=t},setCurrentUser:function(e,t){e.currentUser=t}},actions:{login:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.next=3,V.signInWithEmailAndPassword(t.email,t.password);case 3:r=a.sent,s=r.user,n("fetchUserProfile",s).then(alert("Sign-in successful for ".concat(t.email)));case 6:case"end":return a.stop()}}),a)})))()},fetchUserProfile:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.next=3,H.doc(t.uid).get();case 3:r=a.sent,n("setUserProfile",r.data()),n("setCurrentUser",t),it.push("/chatrooms/general");case 7:case"end":return a.stop()}}),a)})))()},createUser:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.dispatch,a.next=3,V.createUserWithEmailAndPassword(t.email,t.password);case 3:return r=a.sent,s=r.user,a.next=7,H.doc(s.uid).set({name:t.name,email:t.email,password:t.password,edit:!1,uid:s.uid});case 7:return a.next=9,H.doc(s.uid).collection("direct").doc("first").set({createdOn:new Date,sentByUID:"SYSTEM",sentByEmail:"SYSTEM",content:"Welcome to the beginning of your chat history with ".concat(t.name,"!")});case 9:n("fetchUserProfile",s).then(alert("Account created for ".concat(t.email)));case 10:case"end":return a.stop()}}),a)})))()},logout:function(e){return Object(re["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,V.signOut().then(alert("You've successfully signed out"));case 3:a("setUserProfile",{}),it.push("/join");case 5:case"end":return t.stop()}}),t)})))()},activeRoute:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.commit,t.id?n("setCurrentRoute",t.id):t.dbPln&&n("setCurrentDatabase",t.dbPln);case 2:case"end":return a.stop()}}),a)})))()},sendMsg:function(e,t){var a=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.dispatch,r=a.state.currentUser,s=t.dbPln,o=t.dbStr,i=H.doc(r.uid).collection("direct"),n.t0=t.dbStr,n.next="programChat"===n.t0?8:"networkChat"===n.t0?11:"creativeChat"===n.t0?14:"generalChat"===n.t0?17:"bugChat"===n.t0?20:23;break;case 8:return n.next=10,Y.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 10:return n.abrupt("break",28);case 11:return n.next=13,G.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 13:return n.abrupt("break",28);case 14:return n.next=16,F.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 16:return n.abrupt("break",28);case 17:return n.next=19,J.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 19:return n.abrupt("break",28);case 20:return n.next=22,X.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email});case 22:return n.abrupt("break",28);case 23:return n.next=25,s.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email,sentTo:o});case 25:return n.next=27,i.doc().set({createdOn:new Date,content:t.message,sentByUID:r.uid,sentByEmail:r.email,sentTo:o});case 27:return n.abrupt("break",28);case 28:case"end":return n.stop()}}),n)})))()},dltMsg:function(e,t){var a=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch,r=a.state.currentUser,s=a.state.currentDatabase,n.next=5,s.doc(t).get();case 5:o=n.sent,o.data().sentByUID!=r.uid?console.log("You cannot delete this message"):s.doc(t).delete();case 7:case"end":return n.stop()}}),n)})))()},editMsg:function(e,t){var a=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch,r=a.state.currentUser,s=a.state.currentDatabase,n.next=5,s.doc(t.id).get();case 5:o=n.sent,o.data().sentByUID!=r.uid?console.log("You cannot edit this message"):s.doc(t.id).set({createdOn:o.data().createdOn,editedOn:new Date,content:t.content,sentByUID:o.data().sentByUID,sentByEmail:o.data().sentByEmail});case 7:case"end":return n.stop()}}),n)})))()}},modules:{}}),ie={name:"Messages",data:function(){return{route:{id:this.$route.params.chatID,path:this.$route.path},message:{content:"",databaseStr:"",databasePln:null},unsubscribe:null}},methods:{fetchDatabase:function(){switch(this.route.path){case"/chatrooms/programming":this.message.databaseStr="programChat",this.message.databasePln=Y,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/networking":this.message.databaseStr="networkChat",this.message.databasePln=G,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/creative":this.message.databaseStr="creativeChat",this.message.databasePln=F,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/general":this.message.databaseStr="generalChat",this.message.databasePln=J,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break;case"/chatrooms/bugReport":this.message.databaseStr="bugChat",this.message.databasePln=X,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln});break}},renderDOM:function(){var e=oe.state.currentDatabase,t=oe.state.currentUser,a=document.getElementById("msgList");this.unsubscribe=e.orderBy("createdOn").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var n=e.doc.data().createdOn,r=document.createElement("div");r.setAttribute("sentBy-id",e.doc.id),r.classList="msgLabel",r.innerText="Sent by ".concat(e.doc.data().sentByEmail," on ").concat(n.toDate().toDateString()," at ").concat(n.toDate().toLocaleTimeString()),r.style.fontSize="15px",r.style.color="#ffffff",r.style.width="fit-content",r.style.maxWidth="50%",r.style.height="fit-content";var s=document.createElement("div");if(s.setAttribute("data-id",e.doc.id),s.classList="message",s.style.backgroundColor="#4e609a",s.style.color="#ffffff",s.style.fontWeight="bold",s.style.fontSize="20px",s.style.padding="7px",s.style.marginBottom="10px",s.style.borderRadius="5px",s.style.width="fit-content",s.style.maxWidth="50%",s.style.height="fit-content",s.style.wordWrap="break-word",s.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var o=document.createElement("button");o.innerText="X",o.classList="dlt",o.style.color="#ffffff",o.style.fontWeight="bold",o.style.fontSize="16px",o.style.padding="4px",o.style.border="0",o.style.borderRadius="5px",o.style.float="right",o.style.top="0",o.addEventListener("click",(function(e){var t=this.parentElement,a=t.getAttribute("data-id");oe.dispatch("dltMsg",a)}));var i=document.createElement("button");i.innerText="Edit",i.classList="edit",i.style.color="#ffffff",i.style.fontWeight="bold",i.style.fontSize="16px",i.style.border="0",i.style.borderRadius="5px",i.style.padding="4px",i.style.float="right",i.style.top="0";var c=e.doc.id,d=document.createElement("form"),l=document.createElement("input");l.style.fontSize="20px",l.style.borderRadius="5px",l.style.backgroundColor="#33436a",l.style.color="#ffffff",l.style.padding="5px";var u=document.createElement("input");l.setAttribute("type","text"),l.placeholder="Edit message...",u.setAttribute("type","submit"),u.setAttribute("style","display: none"),d.addEventListener("submit",(function(e){e.preventDefault(),oe.dispatch("editMsg",{id:c,content:l.value})})),d.appendChild(u),d.appendChild(l),d.style.display="none",i.addEventListener("click",(function(e){"none"===d.style.display?d.style.display="block":d.style.display="none"})),r.style.marginLeft="auto",r.innerText="".concat(n.toDate().toDateString()," at ").concat(n.toDate().toLocaleTimeString()),s.style.marginLeft="auto",s.style.backgroundColor="#33436a",i.style.backgroundColor="#4e609a",o.style.backgroundColor="#4e609a",s.appendChild(o),s.appendChild(i),s.appendChild(d)}document.getElementById("msgList").appendChild(s),s.insertAdjacentElement("beforebegin",r),s.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}if("modified"===e.type){var b=a.querySelector("[data-id="+e.doc.id+"]");if(b.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var f=document.createElement("button");f.innerText="X",f.classList="dlt",f.style.backgroundColor="#4e609a",f.style.color="#ffffff",f.style.fontWeight="bold",f.style.fontSize="16px",f.style.padding="4px",f.style.border="0",f.style.borderRadius="5px",f.style.float="right",f.style.top="0",f.addEventListener("click",(function(e){var t=this.parentElement,a=t.getAttribute("data-id");oe.dispatch("dltMsg",a)}));var m=document.createElement("button");m.innerText="Edit",m.classList="edit",m.style.backgroundColor="#4e609a",m.style.color="#ffffff",m.style.fontWeight="bold",m.style.fontSize="16px",m.style.border="0",m.style.borderRadius="5px",m.style.padding="4px",m.style.float="right",m.style.top="0";var p=b.getAttribute("data-id"),h=document.createElement("form"),g=document.createElement("input"),y=document.createElement("input");g.setAttribute("type","text"),g.placeholder="Edit message...",g.style.fontSize="20px",g.style.borderRadius="5px",g.style.backgroundColor="#33436a",g.style.color="#ffffff",g.style.padding="5px",y.setAttribute("type","submit"),y.setAttribute("style","display: none"),h.addEventListener("submit",(function(e){e.preventDefault(),oe.dispatch("editMsg",{id:p,content:g.value})})),h.appendChild(y),h.appendChild(g),h.style.display="none",m.addEventListener("click",(function(e){"none"===h.style.display?h.style.display="block":h.style.display="none"})),b.appendChild(f),b.appendChild(m),b.appendChild(h)}}if("removed"===e.type){var v=a.querySelector("[sentBy-id="+e.doc.id+"]"),O=a.querySelector("[data-id="+e.doc.id+"]");a.removeChild(v),a.removeChild(O)}}))}))},sendMsg:function(){document.getElementById("chat-form").reset(),this.$store.dispatch("sendMsg",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln})}},mounted:function(){this.$store.dispatch("activeRoute",{id:this.route.id,path:this.route.path}).then(this.fetchDatabase()),this.renderDOM()},beforeUnmount:function(){var e=document.getElementById("msgList");e.innerHTML="",e.textContent="";while(e.lastElementChild)e.removeChild(e.lastElementChild);console.log("ERASING EVERYTHING"),this.unsubscribe()}};a("2e79");ie.render=ne,ie.__scopeId="data-v-6871b883";var ce=ie,de={name:"Chatrooms",components:{ChatNav:Q,Messages:ce}};a("438b");de.render=I,de.__scopeId="data-v-52552633";var le=de,ue=Object(n["D"])("data-v-be576d72");Object(n["s"])("data-v-be576d72");var be={id:"direct"};Object(n["q"])();var fe=ue((function(e,t,a,r,s,o){var i=Object(n["v"])("DirectNav");return Object(n["p"])(),Object(n["d"])("div",be,[Object(n["g"])(i)])})),me=Object(n["D"])("data-v-856e5338");Object(n["s"])("data-v-856e5338");var pe=Object(n["g"])("div",{id:"directNav"},[Object(n["g"])("h1",null,"Users:")],-1);Object(n["q"])();var he=me((function(e,t,a,r,s,o){var i=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[pe,Object(n["g"])(i,{key:e.$route.fullPath})],64)})),ge={name:"DirectNav",data:function(){return{route:{id:this.$route.params.directID,path:this.$route.path},user:{content:"",databaseStr:"",databasePln:null},unsubscribe:null}},methods:{renderList:function(){var e=H,t=oe.state.currentUser,a=document.getElementById("directNav");this.unsubscribe=e.orderBy("name").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var n=document.createElement("a");if(n.setAttribute("user-id",e.doc.id),n.setAttribute("href","/direct/".concat(e.doc.id)),n.addEventListener("click",(function(t){t.preventDefault(),it.push("/direct/".concat(e.doc.id))})),n.style.fontSize="40px",n.style.fontWeight="bold",n.style.maxHeight="50px",n.style.color="#18243a",n.style.backgroundColor="#92a2e2",n.style.borderRadius="5px",n.style.verticalAlign="middle",n.style.textDecoration="none",n.innerText=e.doc.data().name,e.doc.data().uid==t.uid)return;e.doc.data().uid!=t.uid&&a.appendChild(n)}if("modified"===e.type){var r=a.querySelector("[user-id="+e.doc.id+"]");r.innerText=e.doc.data().name}if("removed"===e.type){var s=a.querySelector("[user-id="+e.doc.id+"]");a.removeChild(s)}}))}))}},mounted:function(){this.renderList()},beforeUnmount:function(){this.unsubscribe()}};a("1aa6");ge.render=he,ge.__scopeId="data-v-856e5338";var ye=ge,ve=Object(n["D"])("data-v-500a46ec");Object(n["s"])("data-v-500a46ec");var Oe=Object(n["g"])("div",{id:"dmList"},null,-1),je=Object(n["g"])("br",null,null,-1),xe={id:"chat-form-container"};Object(n["q"])();var we=ve((function(e,t,a,r,s,o){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Oe,je,Object(n["g"])("div",xe,[Object(n["g"])("form",{id:"chat-form",novalidate:"",onSubmit:t[3]||(t[3]=Object(n["C"])((function(){}),["prevent"]))},[Object(n["B"])(Object(n["g"])("input",{id:"message",name:"message",type:"text",placeholder:"Send a private message...","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.message.content=e}),autocomplete:"off",required:""},null,512),[[n["y"],s.message.content]]),Object(n["g"])("button",{class:"btn",onClick:t[2]||(t[2]=function(){return o.sendMsg.apply(o,arguments)})},"Send")],32)])],64)})),Ce=Object(n["D"])("data-v-728d63ae"),Ee=Ce((function(e,t,a,n,r,s){return null})),Se={};Se.render=Ee,Se.__scopeId="data-v-728d63ae";var De=Se,ke={name:"directMessages",data:function(){return{route:{id:this.$route.params.directID,path:this.$route.path},message:{content:"",databaseStr:"",databasePln:null},unsubscribe:null}},components:{Video:De},methods:{renderDOM:function(){var e=oe.state.currentDatabase,t=oe.state.currentUser,a=document.getElementById("dmList");this.unsubscribe=e.orderBy("createdOn").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var n=e.doc.data().createdOn,r=document.createElement("div");r.setAttribute("sentBy-id",e.doc.id),r.classList="msgLabel",r.innerText="Sent by ".concat(e.doc.data().sentByEmail," on ").concat(n.toDate().toDateString()," at ").concat(n.toDate().toLocaleTimeString()),r.style.fontSize="15px",r.style.color="#ffffff",r.style.width="fit-content",r.style.maxWidth="50%",r.style.height="fit-content";var s=document.createElement("div");if(s.setAttribute("data-id",e.doc.id),s.classList="message",s.style.backgroundColor="#4e609a",s.style.color="#ffffff",s.style.fontWeight="bold",s.style.fontSize="20px",s.style.padding="7px",s.style.marginBottom="10px",s.style.borderRadius="5px",s.style.width="fit-content",s.style.maxWidth="50%",s.style.height="fit-content",s.style.wordWrap="break-word",s.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var o=document.createElement("button");o.innerText="X",o.classList="dlt",o.style.color="#ffffff",o.style.fontWeight="bold",o.style.fontSize="16px",o.style.padding="4px",o.style.border="0",o.style.borderRadius="5px",o.style.float="right",o.style.top="0",o.addEventListener("click",(function(e){var t=this.parentElement,a=t.getAttribute("data-id");oe.dispatch("dltMsg",a)}));var i=document.createElement("button");i.innerText="Edit",i.classList="edit",i.style.color="#ffffff",i.style.fontWeight="bold",i.style.fontSize="16px",i.style.border="0",i.style.borderRadius="5px",i.style.padding="4px",i.style.float="right",i.style.top="0";var c=e.doc.id,d=document.createElement("form"),l=document.createElement("input");l.style.fontSize="20px",l.style.borderRadius="5px",l.style.backgroundColor="#33436a",l.style.color="#ffffff",l.style.padding="5px";var u=document.createElement("input");l.setAttribute("type","text"),l.placeholder="Edit message...",u.setAttribute("type","submit"),u.setAttribute("style","display: none"),d.addEventListener("submit",(function(e){e.preventDefault(),oe.dispatch("editMsg",{id:c,content:l.value})})),d.appendChild(u),d.appendChild(l),d.style.display="none",i.addEventListener("click",(function(e){"none"===d.style.display?d.style.display="block":d.style.display="none"})),r.style.marginLeft="auto",r.innerText="".concat(n.toDate().toDateString()," at ").concat(n.toDate().toLocaleTimeString()),s.style.marginLeft="auto",s.style.backgroundColor="#33436a",i.style.backgroundColor="#4e609a",o.style.backgroundColor="#4e609a",s.appendChild(o),s.appendChild(i),s.appendChild(d)}if(e.doc.data().sentTo!=t.uid&&e.doc.data().sentByEmail!=t.email)return;document.getElementById("dmList").appendChild(s),s.insertAdjacentElement("beforebegin",r),s.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}if("modified"===e.type){var b=a.querySelector("[data-id="+e.doc.id+"]");if(b.innerText=e.doc.data().content,e.doc.data().sentByEmail==t.email){var f=document.createElement("button");f.innerText="X",f.classList="dlt",f.style.backgroundColor="#4e609a",f.style.color="#ffffff",f.style.fontWeight="bold",f.style.fontSize="16px",f.style.padding="4px",f.style.border="0",f.style.borderRadius="5px",f.style.float="right",f.style.top="0",f.addEventListener("click",(function(e){var t=this.parentElement,a=t.getAttribute("data-id");oe.dispatch("dltMsg",a)}));var m=document.createElement("button");m.innerText="Edit",m.classList="edit",m.style.backgroundColor="#4e609a",m.style.color="#ffffff",m.style.fontWeight="bold",m.style.fontSize="16px",m.style.border="0",m.style.borderRadius="5px",m.style.padding="4px",m.style.float="right",m.style.top="0";var p=b.getAttribute("data-id"),h=document.createElement("form"),g=document.createElement("input"),y=document.createElement("input");g.setAttribute("type","text"),g.placeholder="Edit message...",g.style.fontSize="20px",g.style.borderRadius="5px",g.style.backgroundColor="#33436a",g.style.color="#ffffff",g.style.padding="5px",y.setAttribute("type","submit"),y.setAttribute("style","display: none"),h.addEventListener("submit",(function(e){e.preventDefault(),oe.dispatch("editMsg",{id:p,content:g.value})})),h.appendChild(y),h.appendChild(g),h.style.display="none",m.addEventListener("click",(function(e){"none"===h.style.display?h.style.display="block":h.style.display="none"})),b.appendChild(f),b.appendChild(m),b.appendChild(h)}}if("removed"===e.type){var v=a.querySelector("[sentBy-id="+e.doc.id+"]"),O=a.querySelector("[data-id="+e.doc.id+"]");a.removeChild(v),a.removeChild(O)}}))}))},fetchDatabase:function(){var e=this.route.path.substr(8),t=H.doc(e).collection("direct");this.message.databaseStr="".concat(e),this.message.databasePln=t,this.$store.dispatch("activeRoute",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln})},sendMsg:function(){document.getElementById("chat-form").reset();var e=this.route.path.substr(8),t=H.doc(e).collection("direct");this.message.databaseStr="".concat(e),this.message.databasePln=t,this.$store.dispatch("sendMsg",{message:this.message.content,dbStr:this.message.databaseStr,dbPln:this.message.databasePln})}},mounted:function(){this.$store.dispatch("activeRoute",{id:this.route.id,path:this.route.path}).then(this.fetchDatabase()),this.renderDOM()},beforeUnmount:function(){var e=document.getElementById("dmList");e.innerHTML="",e.textContent="";while(e.lastElementChild)e.removeChild(e.lastElementChild);console.log("ERASING EVERYTHING"),this.unsubscribe()}};a("db8b");ke.render=we,ke.__scopeId="data-v-500a46ec";var Be=ke,Re={name:"Direct",components:{DirectNav:ye,DirectMessages:Be}};a("286f");Re.render=fe,Re.__scopeId="data-v-be576d72";var Ie=Re,Le={class:"join-container"},Pe={class:"join-header"},Ue=Object(n["g"])("h1",null,"VueChat",-1),Me=Object(n["f"])("Login"),Ae=Object(n["f"])(" | "),_e=Object(n["f"])("Register"),Te={class:"join-main"};function qe(e,t,a,r,s,o){var i=Object(n["v"])("router-link"),c=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])("div",Le,[Object(n["g"])("header",Pe,[Ue,Object(n["g"])(i,{to:"/join"},{default:Object(n["A"])((function(){return[Me]})),_:1}),Ae,Object(n["g"])(i,{to:"/join/register"},{default:Object(n["A"])((function(){return[_e]})),_:1})]),Object(n["g"])("main",Te,[Object(n["g"])(c)])])}var Ne=Object(n["D"])("data-v-6891089e");Object(n["s"])("data-v-6891089e");var $e={class:"login"},We={class:"form-control"},ze=Object(n["g"])("label",{for:"email"},"E-mail",-1),Ve=Object(n["g"])("label",{for:"password"},"Password",-1);Object(n["q"])();var He=Ne((function(e,t,a,r,s,o){return Object(n["p"])(),Object(n["d"])("div",$e,[Object(n["g"])("form",{onSubmit:t[4]||(t[4]=Object(n["C"])((function(){}),["prevent"]))},[Object(n["g"])("div",We,[ze,Object(n["B"])(Object(n["g"])("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.email=e}),type:"text",name:"email",placeholder:"Enter your e-mail address...",required:""},null,512),[[n["y"],s.email]]),Ve,Object(n["B"])(Object(n["g"])("input",{id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.password=e}),type:"text",name:"password",placeholder:"Enter your password...",required:""},null,512),[[n["y"],s.password]]),Object(n["g"])("button",{class:"btn",onClick:t[3]||(t[3]=function(){return o.login.apply(o,arguments)})}," Login ")])],32)])})),Ye={data:function(){return{email:"",password:""}},methods:{login:function(){this.$store.dispatch("login",{email:this.email,password:this.password})}}};a("6c46");Ye.render=He,Ye.__scopeId="data-v-6891089e";var Ge=Ye,Fe=Object(n["D"])("data-v-1cf6db4a");Object(n["s"])("data-v-1cf6db4a");var Je={class:"register"},Xe={class:"form-control"},Ke=Object(n["g"])("label",{for:"userName"},"Username",-1),Qe=Object(n["g"])("label",{for:"email"},"E-mail",-1),Ze=Object(n["g"])("label",{for:"password"},"Password",-1);Object(n["q"])();var et=Fe((function(e,t,a,r,s,o){return Object(n["p"])(),Object(n["d"])("div",Je,[Object(n["g"])("form",{onSubmit:t[5]||(t[5]=Object(n["C"])((function(){}),["prevent"]))},[Object(n["g"])("div",Xe,[Ke,Object(n["B"])(Object(n["g"])("input",{id:"userName","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.userName=e}),type:"text",name:"userName",placeholder:"Enter your username...",required:""},null,512),[[n["y"],s.userName]]),Qe,Object(n["B"])(Object(n["g"])("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.email=e}),type:"text",name:"email",placeholder:"Enter your e-mail address...",required:""},null,512),[[n["y"],s.email]]),Ze,Object(n["B"])(Object(n["g"])("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.password=e}),type:"text",name:"password",placeholder:"Enter your password...",required:""},null,512),[[n["y"],s.password]]),Object(n["g"])("button",{class:"btn",onClick:t[4]||(t[4]=function(){return o.createUser.apply(o,arguments)})}," Create account ")])],32)])})),tt={data:function(){return{userName:"",email:"",password:""}},methods:{createUser:function(){this.$store.dispatch("createUser",{email:this.email,password:this.password,name:this.userName,title:this.title})}}};a("0b42");tt.render=et,tt.__scopeId="data-v-1cf6db4a";var at=tt,nt={name:"Join",components:{Login:Ge,Register:at}};a("1790");nt.render=qe;var rt=nt,st=[{path:"/",name:"Home",component:k},{path:"/direct",name:"Direct",component:Ie,meta:{requiresAuth:!0},children:[{path:"/direct/:directID",name:"directMessages",component:Be}]},{path:"/chatrooms",name:"Chatrooms",component:le,meta:{requiresAuth:!0},children:[{path:"/chatrooms/:chatID",name:"Messages",component:ce}]},{path:"/join",name:"Join",component:rt,children:[{path:"",name:"Login",component:Ge},{path:"/join/register",name:"Register",component:at}]}],ot=Object(f["a"])({history:Object(f["b"])(),base:"/",routes:st});ot.beforeEach((function(e,t,a){var n=e.matched.some((function(e){return e.meta.requiresAuth}));n&&!V.currentUser?(console.log("User not signed in, redirecting to Login page."),a("/join")):a()}));var it=ot,ct={name:"SiteNav",methods:{logout:function(){this.$store.dispatch("logout")}}};a("b963");ct.render=b,ct.__scopeId="data-v-3b4e01ed";var dt=ct,lt={name:"App",components:{SiteNav:dt}};a("afe4");lt.render=o,lt.__scopeId="data-v-ec555db0";var ut,bt=lt;a("a347");V.onAuthStateChanged((function(e){if(!ut)return ut=Object(n["c"])(bt).use(oe).use(it).mount("#app");e&&oe.dispatch("fetchUserProfile",e)}))},"6c46":function(e,t,a){"use strict";a("0e65")},"85a7":function(e,t,a){},"8eec":function(e,t,a){},a347:function(e,t,a){},a9af:function(e,t,a){},afe4:function(e,t,a){"use strict";a("1f42")},b7f2:function(e,t,a){},b963:function(e,t,a){"use strict";a("c423")},bc64:function(e,t,a){},c423:function(e,t,a){},d109:function(e,t,a){},db8b:function(e,t,a){"use strict";a("85a7")},f6ce:function(e,t,a){"use strict";a("4c7c")},fb77:function(e,t,a){"use strict";a("4a58")}});
//# sourceMappingURL=app.b88e8756.js.map